This folder contains possibly useful codes for analyzing outputs from a stand alone GENIE simulation. Note these methods will not work exactly one-to-one with the full detector simulation as the output files are structured differently. 

# branchingRatio.py
This is a Python code that can be used to calculate the branching ratio for different decay chains, specifically decay chains of the $\tau^-$ lepton produced from a $\nu_\tau$ CC interaction. The expected branching ratios for each decay chain can be found in the Particle Data Group. This code begins by defining the file as well as the 'rootracker' tree. Then a variety of particle counts are initialized to zero. Here, we initialize counts for $e^-$, $mu^-$, $\pi^0$, and $\pi^-$ as these are the particles involved in the most common decay chains. Then we loop over each event in the tree and call each entry as an interaction in the event. From there, we loop over each interaction in each event. We define the first and last daughter as well as the pdg which are all built in attributes of the tree. We then define a list of daughters that come from the $\tau^-$, which has a pdg of 15, as well as assign a count for the number of daughters that come from the $\tau^-$. If there are three daughters there are three possible decay chains taken into account here and since the order that the daughters appear is always the same for each type of chain, we can go based on if the charged lepton or pion showes up in the expected place. The first mode is the leptonic decay of the $\tau^-$ to a resulting $\e^-$ and the $e^-$ should show up as the first daughter listed. This mode has a probability of 17.82%. The second mode is the leptonic decay of the $\tau^-$ to a resulting $\mu^-$ and the $\mu^-$ should show up as the first daughter listed. This mode has a probability of 17.39%. The third mode is the hadronic decay of the $\tau^-$ to one $\pi^-$ and one $\pi^0$ and the $\pi^-$ should be listed as the second daughter and the $\pi^0$ should be listed as the third daughter. This mode has a probability of 25.49%. If there are two daughters there is one possible decay chain taken into account here. This is the hadronic decay of the $\tau^-$ to one $\pi^-$ which should be listed as the second daughter. This mode has a proability of 10.82%. Once these counts are made, the number of particles that fall into each of these decay modes are output and by dividing this number by the total number of particles in the simulation the branching ratio can be calculated and checked with the branching ratio given in the PDG.

# genieOutput.c
This is a C++ code that outputs various properties for the particles produced in the simulation. This code begins by getting the file as well as the 'rootracker' tree. We then define the four momentum which is stored as a double, unlike other attributes called here. From there we loop over the tree and then loop over each interaction in each event outputting various attributes for each event including the pdg code, the first and last daughter, and the energy for each interaction. The output is a txt file with all this information.

# genie\_histograms.py
This is a Python code used to produce histograms for various simulation properties. As shown here, it allows for histograms to be created for three different simulation files for comparison. We begin, as with the other codes, by getting the files, in this case three different files, and each file's 'rootracker' tree. We then set up any histograms that will be needed. From there, we loop over each file and within each file loop, we also loop over every interaction in the event loop. Attributes are called in a similar fashion to *genieOutput.c* with the exception of the four momentum. Recall that the four momentum was stored as a double rather than a list or an array. Because this is a Python code rather than a C++ code the double cannot be called directly, as it was before. Instead, we have to use the command *np.frombuffer(four\_momentum,dtype=float)* to get an array of floats for the momentum. But, this list goes *[p~x~,p~y~,p~z~,energy,p~x~,p~y~,p~z~,energy,etc]* so we need to separate into four independent lists of energy, p~x~, p~y~, and p~z~. The way this is done is by skipping through the list depending on what is required. For example, to get every p~x~, we would begin with the first value in the list and then skip the next three values to get to the next p~x~ value. The same process is done for p~y~, p~z~, and energy, just with different starting points. Then, we define where the beam line is, which is on the *z* axis defined at (0,0,1). We recombine p~x~, p~y~, and p~z~ to create a three momentum and calculate the angle between the three momentum and the beam line. 

There is some deviation at this point depending on which flavor simulation we are looking at. For $\nu~\mu~$ and $\nu~e~$. For this project, the leading leptons needed to be examined for so we only include when the PDG code is 13 ($\mu^-$) or when the PDG code is 11 ($e^-$). From there, we can fill any required histograms or append any values. For $\nu~\tau~$, the process needs an additional step in order to compare $\mu^-$ or $e^-$ to the $\nu_\mu$ or $\nu~e~$ leptons because we are interested in $\mu^-$ or $e^-$ directly resulting from the decay of the $\tau^-$ that comes from the $\nu~\tau~$ interaction. So, we first find the $\tau^-$ and list all the daughters. Then we run through the list of       
